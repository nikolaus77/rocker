# Password storage

Some efforts were undertaken to encrypt and to protect the password in the private area of the class. The class stores the password hidden and inaccessible. __Please let me know, in case you discover a way how to access the password!__

```{r}
db <- rocker::newDB() # New database handling object
db$setupDriver( # Setup PostgreSQL database with stored password (password and user are hidden - default behavior)
  RPostgres::Postgres(),
  host = "127.0.0.1", port = "5432", dbname = "mydb",
  user = "postgres", password = "password",
  protect = c("password", "user")
)
```

```{r}
db$connect() # Open connection 1; Password is stored in the class and does not need to be provided.
output1 <- db$getQuery("SELECT * FROM mtcars;") # Get query 1
db$disconnect() # Close connection 1
```

```{r}
db$connect() # Open connection 2; Password is stored in the class and does not need to be provided.
output2 <- db$getQuery("SELECT * FROM mtcars;") # Get query 2
db$disconnect() # Close connection 2
```

```{r}
db$unloadDriver() # Reset database handling object
```

In case you do not want to store the password in the class, you will need to provide it each time a connection is opened.

```{r}
db <- rocker::newDB() # New database handling object
db$setupDriver( # Setup PostgreSQL database without stored password
  RPostgres::Postgres(),
  host = "127.0.0.1", port = "5432", dbname = "mydb",
  user = "postgres"
)
```

```{r}
db$connect(password = "password") # Open connection 1; Password needs to be provided.
output1 <- db$getQuery("SELECT * FROM mtcars;") # Get query 1
db$disconnect() # Close connection 1
```

```{r}
db$connect(password = "password") # Open connection 2; Password needs to be provided.
output2 <- db$getQuery("SELECT * FROM mtcars;") # Get query 2
db$disconnect() # Close connection 2
```

```{r}
db$unloadDriver() # Reset database handling object
```
